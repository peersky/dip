datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model WalletGasMetrics {
  id            String   @id @default(cuid())
  walletAddress String
  network       String
  periodStart   DateTime
  periodEnd     DateTime
  gasSpent      BigInt
  gasEarned     BigInt
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@unique([walletAddress, network, periodStart])
  @@index([walletAddress, network, periodStart])
  @@index([periodStart, periodEnd])
}

model Transaction {
  id            String   @id @default(cuid())
  txHash        String   @unique
  walletAddress String
  network       String
  gasUsed       BigInt
  gasPrice      BigInt
  blockNumber   Int
  timestamp     DateTime
  status        String
  createdAt     DateTime @default(now())

  @@index([walletAddress, network])
  @@index([blockNumber])
  @@index([timestamp])
} 